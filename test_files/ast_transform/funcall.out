[{attribute,{loc,[],0,0},module,funcall},
 {function,{loc,[],0,0},
           bar,2,
           [{fun_clause,{loc,[],0,0},
                        [{var,{loc,[],0,0},{local_bind,{'X',0}}},{var,{loc,[],0,0},{local_bind,{'Y',0}}}],
                        [],
                        [{op,{loc,[],0,0},'+',{var,{loc,[],0,0},{local_ref,{'X',0}}},{var,{loc,[],0,0},{local_ref,{'Y',0}}}}]}]},
 {function,{loc,[],0,0},
           foo,1,
           [{fun_clause,{loc,[],0,0},
                        [{var,{loc,[],0,0},{local_bind,{'X',0}}}],
                        [],
                        [{call,{loc,[],0,0},{var,{loc,[],0,0},{ref,bar,2}},[{var,{loc,[],0,0},{local_ref,{'X',0}}},{integer,{loc,[],0,0},1}]}]}]},
 {function,{loc,[],0,0},
           spam,0,
           [{fun_clause,{loc,[],0,0},
                        [],[],
                        [{call,{loc,[],0,0},
                               {var,{loc,[],0,0},{qref,lists,map,2}},
                               [{'fun',{loc,[],0,0},
                                       no_name,
                                       [{fun_clause,{loc,[],0,0},
                                                    [{var,{loc,[],0,0},{local_bind,{'X',0}}}],
                                                    [],
                                                    [{call,{loc,[],0,0},{var,{loc,[],0,0},{ref,foo,1}},[{var,{loc,[],0,0},{local_ref,{'X',0}}}]}]}]},
                                {cons,{loc,[],0,0},{integer,{loc,[],0,0},1},{cons,{loc,[],0,0},{integer,{loc,[],0,0},2},{cons,{loc,[],0,0},{integer,{loc,[],0,0},3},{nil,{loc,[],0,0}}}}}]}]}]},
 {function,{loc,[],0,0},
           higher_order,2,
           [{fun_clause,{loc,[],0,0},
                        [{var,{loc,[],0,0},{local_bind,{'F',0}}},{var,{loc,[],0,0},{local_bind,{'X',0}}}],
                        [],
                        [{call,{loc,[],0,0},{var,{loc,[],0,0},{local_ref,{'F',0}}},[{var,{loc,[],0,0},{local_ref,{'X',0}}}]}]}]},
 {function,{loc,[],0,0},test,0,[{fun_clause,{loc,[],0,0},[],[],[{call,{loc,[],0,0},{var,{loc,[],0,0},{ref,higher_order,2}},[{fun_ref,{loc,[],0,0},{ref,foo,1}},{integer,{loc,[],0,0},1}]}]}]},
 {function,{loc,[],0,0},test2,0,[{fun_clause,{loc,[],0,0},[],[],[{call,{loc,[],0,0},{var,{loc,[],0,0},{ref,higher_order,2}},[{fun_ref,{loc,[],0,0},{qref,mod,foo,1}},{integer,{loc,[],0,0},1}]}]}]},
 {function,{loc,[],0,0},
           my_len,1,
           [{fun_clause,{loc,[],0,0},[{var,{loc,[],0,0},{local_bind,{'L',0}}}],[],[{call,{loc,[],0,0},{var,{loc,[],0,0},{qref,erlang,length,1}},[{var,{loc,[],0,0},{local_ref,{'L',0}}}]}]}]}].
